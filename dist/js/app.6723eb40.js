(function(){"use strict";var t={3172:function(t,e,n){var s=n(144),i=n(3726),a=n(259),r=n(4741),o=n(7024),c=n(7690),l=n(9088),u=n(3102),d=n(7894),_=n(7377),m=n(9007),I=function(){var t=this,e=t._self._c;return e(i.Z,[e(a.Z,{attrs:{app:"",color:"light",height:"80"}},[e(d.Z,[e(o.Z,{attrs:{cols:"2"}},[e(_.Z,{attrs:{"true-value":t.online,color:t.online?"success":"error",label:`Статус онлайна: ${t.online.toString()}`},on:{change:function(e){return t.isOnlineUserInSite()}}})],1),e(c.Z,{staticClass:"my-2",attrs:{vertical:""}}),e(o.Z,{attrs:{cols:"3"}},[e("div",{staticClass:"d-flex"},[e(m.Z,{attrs:{label:"Введите ключ Api",dense:"","hide-details":""},model:{value:t.pApiKey,callback:function(e){t.pApiKey=e},expression:"pApiKey"}}),e(r.Z,{attrs:{color:"success",icon:"",large:""},on:{click:function(e){return t.addApiKey()}}},[e(l.Z,[t._v("mdi-content-save-outline")])],1)],1)]),e(c.Z,{staticClass:"my-2",attrs:{vertical:""}}),e(o.Z,{attrs:{cols:"2"}},[e(r.Z,{attrs:{color:"error"},on:{click:function(e){return t.deleteSavePrice()}}},[t._v("Удалить все цены"),e(l.Z,[t._v("mdi-delete")])],1)],1),e(c.Z,{staticClass:"my-2",attrs:{vertical:""}}),e(o.Z,{attrs:{cols:"2"}},[e(r.Z,{attrs:{loading:t.loadingCheck,color:t.isItemsOnBot?"success":"error"},on:{click:function(e){return t.checkItemsOnBot()}}},[t._v("Проверка приема/передачи вещи")]),e("br")],1)],1)],1),e(u.Z,[e("router-view")],1)],1)},h=[],p=n(629),f={name:"App",data(){return{pApiKey:"",loadingCheck:!1}},computed:{...(0,p.rn)(["online","isItemsOnBot"])},mounted(){console.log(localStorage.getItem("API_KEY")),this.pApiKey=localStorage.getItem("API_KEY"),this.pApiKey&&this.MUTATE_API_KEY(this.pApiKey)},methods:{...(0,p.nv)(["GET_API","PING_ONLINE","CHECK_ITEMS_ON_BOT"]),...(0,p.OI)(["MUTATE_API_KEY"]),isOnlineUserInSite(){this.PING_ONLINE()},addApiKey(){console.log(this.pApiKey),localStorage.setItem("API_KEY",this.pApiKey)},async checkItemsOnBot(){this.loadingCheck=!0,await this.CHECK_ITEMS_ON_BOT(),this.loadingCheck=!1},deleteSavePrice(){localStorage.clear(),localStorage.setItem("API_KEY",this.pApiKey)}}},E=f,T=n(1001),v=(0,T.Z)(E,I,h,!1,null,null,null),g=v.exports,y=n(4903),N=function(){var t=this,e=t._self._c;return e("new-item")},Z=[],P=n(3816),S=n(5255),M=n(2603),O=n(1819),b=n(1729),x=n(268),A=n(2515),C=function(){var t=this,e=t._self._c;return e(O.Z,[e(r.Z,{attrs:{color:"primary",dense:""},on:{click:function(e){return t.addItemsListNow()}}},[t._v("Предметы на продаже")]),e(r.Z,{staticClass:"ma-4",attrs:{color:"warning",dense:""},on:{click:function(e){return t.updatePriceItems()}}},[t._v("Обновлять цены")]),e(b.Z,{attrs:{items:t.itemsListNow,loading:t.loadingTable,"items-per-page":-1,dense:""},scopedSlots:t._u([{key:"header",fn:function(){return[e("tr",[e("th",[t._v("Действия")]),e("th",[t._v("№")]),e("th",[t._v("Статус")]),e("th",[t._v("Название")]),e("th",{staticStyle:{width:"100px"}},[t._v("Min")]),e("th",[t._v("Твоя цена")]),e("th",{staticStyle:{width:"100px"}},[t._v("Max")]),e("th",[t._v("Позиция")])])]},proxy:!0},{key:"item",fn:function({item:n,index:s}){return[e("tr",{on:{dblclick:function(e){return t.editItem(n)}}},[e("td",{staticClass:"text-center"},[e(d.Z,[e(o.Z,[e(M.Z,{attrs:{readonly:""},model:{value:n.UPDATE_PRICE,callback:function(e){t.$set(n,"UPDATE_PRICE",e)},expression:"item.UPDATE_PRICE"}})],1),e(o.Z,[e(r.Z,{attrs:{color:"primary",icon:""},on:{click:function(e){return t.edititem(n)}}},[e(l.Z,[t._v("mdi-pencil")])],1)],1)],1)],1),e("td",{staticClass:"text-center"},[t._v(t._s(s))]),e("td",{staticClass:"text-center"},[t._v(t._s(1==n.status?"На продаже":2==n.status?"Продана":3==n.status?"Куплена":"Забрать"))]),e("td",{staticClass:"text-center"},[t._v(t._s(n.market_hash_name))]),e("td",{staticClass:"text-center"},[t._v(t._s(n.MIN_PRICE))]),e("td",{staticClass:"text-center"},[t._v(t._s(n.price))]),e("td",{staticClass:"text-center"},[t._v(t._s(n.MAX_PRICE))]),e("td",{staticClass:"text-center"},[t._v(t._s(n.position))])])]}}],null,!0)}),e(x.Z,{attrs:{loading:t.loadingTable,"max-width":"700"},model:{value:t.dialogEdit,callback:function(e){t.dialogEdit=e},expression:"dialogEdit"}},[e(P.Z,[e(S.EB,{staticClass:"primary white--text",staticStyle:{"border-radius":"0 0 10px 10px"}},[t._v("Редактировнаие предмета")]),e(c.Z,{staticClass:"my-4 mx-3"}),e(S.ZB,[e(d.Z,[e(o.Z,{attrs:{cols:"12"}},[e(_.Z,{attrs:{color:t.currentItemInfo.updatePrice?"success":"error",label:"Отслеживать изменение цены"},model:{value:t.currentItemInfo.updatePrice,callback:function(e){t.$set(t.currentItemInfo,"updatePrice",e)},expression:"currentItemInfo.updatePrice"}})],1),e(o.Z,{attrs:{cols:"12"}},[e(m.Z,{attrs:{label:"Название предмета",readonly:"",dense:"","hide-details":""},model:{value:t.currentItemInfo.name,callback:function(e){t.$set(t.currentItemInfo,"name",e)},expression:"currentItemInfo.name"}})],1),e(o.Z,{attrs:{cols:"5"}},[e(m.Z,{attrs:{label:"Качество",readonly:"",dense:"","hide-details":""},model:{value:t.currentItemInfo.quality,callback:function(e){t.$set(t.currentItemInfo,"quality",e)},expression:"currentItemInfo.quality"}})],1),e(o.Z,{attrs:{cols:"5"}},[e(m.Z,{attrs:{label:"Раритетность",readonly:"",dense:"","hide-details":""},model:{value:t.currentItemInfo.rarity,callback:function(e){t.$set(t.currentItemInfo,"rarity",e)},expression:"currentItemInfo.rarity"}})],1),e(o.Z,{attrs:{cols:"2"}},[e(m.Z,{attrs:{value:t.currentItemInfo.stickers?"Есть":"Нет",label:"Наклейки",readonly:"",dense:"","hide-details":""}})],1),e(o.Z,{attrs:{cols:"4"}},[e(m.Z,{attrs:{label:"Минимальная цена (Твоя)",dense:"","hide-details":""},model:{value:t.currentItemInfo.minPrice,callback:function(e){t.$set(t.currentItemInfo,"minPrice",e)},expression:"currentItemInfo.minPrice"}})],1),e(o.Z,{attrs:{cols:"4"}},[e(m.Z,{attrs:{value:t.currentItemInfo.min_price/100,label:"Минимальная цена (Маркет)",readonly:"",dense:"","hide-details":""}})],1),e(o.Z,{attrs:{cols:"4"}},[e(m.Z,{attrs:{label:"Твоя максимальная цена",dense:"","hide-details":""},model:{value:t.currentItemInfo.maxPrice,callback:function(e){t.$set(t.currentItemInfo,"maxPrice",e)},expression:"currentItemInfo.maxPrice"}})],1)],1),e("span",{staticClass:"error--text mt-4"},[t._v("Цены в рублях")])],1),e(S.h7,[e(A.Z),e(r.Z,{attrs:{color:"success"},on:{click:function(e){return t.saveEditItem()}}},[t._v("Сохранить")]),e(r.Z,{attrs:{color:"secondary"},on:{click:function(e){t.dialogEdit=!1}}},[t._v("Закрыть")])],1)],1)],1)],1)},w=[],k=(n(7658),{name:"NewItem",data(){return{loadingTable:!1,currentItem:{},dialogEdit:!1,tempArr:[]}},computed:{...(0,p.rn)(["sum","inventoryList","isItemsOnBot","itemsListNow","currentItemInfo"]),getMinPriceItem(){return this.pastMinPriceItem()}},mounted(){},methods:{async add(){var t=await this.GET_ITEMS_INFO_BY_ID({class:5268244156,instance:188530139});console.log(t);var e=await this.GET_ITEMS_INFO_BY_ID({class:5268244156,instance:188530139});console.log(e)},...(0,p.nv)(["GET_ITEMS_INVENTORY","ADD_ITEM_IN_SALE","CHECK_ITEMS_ON_BOT","GET_ITEMS_LIST_NOW","GET_ITEMS_INFO_BY_ID","UPDATE_PICE_ITEM"]),async pastMinPriceItem(t,e){var n=null;for(let s=0;s<this.itemsListNow.length;s++)n=await this.GET_ITEMS_INFO_BY_ID({class:this.itemsListNow[s].classid,instance:this.itemsListNow[s].instanceid}),n&&(this.itemsListNow[s].market_hash_name=n.market_name,this.$set(this.itemsListNow[s],"CURRENT_PRICE",n.min_price)),n=null;return this.itemsListNow},async edititem(t){this.dialogEdit=!0,this.loadingTable=!0,await this.GET_ITEMS_INFO_BY_ID({class:t.classid,instance:t.instanceid}),this.loadingTable=!1},async saveEditItem(){console.log(this.currentItemInfo),localStorage.setItem(""+(this.currentItemInfo.classid+"_"+this.currentItemInfo.instanceid),JSON.stringify({min:this.currentItemInfo.minPrice,max:this.currentItemInfo.maxPrice,updatePrice:this.currentItemInfo.updatePrice})),this.dialogEdit=!1,this.addItemsListNow()},async getInventoryItem(){this.loadingTable=!0,this.GET_ITEMS_INVENTORY(),this.loadingTable=!1},addItemInSale(){this.GET_ITEMS_ON_SALE()},async addItemsListNow(){this.loadingTable=!0,this.GET_ITEMS_LIST_NOW(),this.loadingTable=!1},async updatePriceItems(){setInterval((()=>{this.tempArr=[];for(const t of this.itemsListNow)this.updatePriceItem(t);setTimeout((()=>{this.addItemsListNow()}),2e3)}),6e4)},async updatePriceItem(t){-1==this.tempArr.findIndex((e=>e==`${t.classid}_${t.instanceid}`))&&(this.tempArr.push(`${t.classid}_${t.instanceid}`),t.UPDATE_PRICE&&t.MIN_PRICE&&await this.UPDATE_PICE_ITEM({min:t.MIN_PRICE,max:t.MAX_PRICE,itemId:t.item_id,class:t.classid,instance:t.instanceid,price:t.price}))}}}),L=k,K=(0,T.Z)(L,C,w,!1,null,"22198de5",null),R=K.exports,$={name:"NewItemView",components:{NewItem:R}},B=$,U=(0,T.Z)(B,N,Z,!1,null,null,null),G=U.exports,Y=function(){var t=this,e=t._self._c;return e("old-item")},D=[],q=function(){var t=this,e=t._self._c;return e(O.Z,[e(r.Z,{on:{click:function(e){return t.getInventoryItem()}}},[t._v("Предметы на продажу")]),e("br"),e(r.Z,{on:{click:function(e){return t.addItemInSale()}}},[t._v("Добавить негев")]),e(b.Z,{attrs:{items:t.itemsListNow,loading:t.loadingTable,"items-per-page":15,dense:""},scopedSlots:t._u([{key:"header",fn:function(){return[e("tr",[e("th",[t._v("index")]),e("th",[t._v("Название")]),e("th",[t._v("Твоя цена")]),e("th",[t._v("Цена маркета")]),e("th",[t._v("Позиция")])])]},proxy:!0},{key:"item",fn:function({item:n,index:s}){return[e("tr",{style:{background:"#"+n.i_name_color}},[e("td",{staticClass:"text-center"},[t._v(t._s(s))]),e("td",{staticClass:"text-center"},[t._v(t._s(n.i_name))]),e("td",{staticClass:"text-center"},[t._v(t._s(n.ui_price))]),e("td",{staticClass:"text-center"},[t._v(t._s(n.i_market_price))]),e("td",{staticClass:"text-center"},[t._v(t._s(n.position))])])]}}],null,!0)})],1)},H=[],V={name:"HelloWorld",data(){return{loadingTable:!1}},computed:{...(0,p.rn)(["itemsListNow"])},mounted(){},methods:{...(0,p.nv)(["GET_ITEMS_INVENTORY","ADD_ITEM_IN_SALE","CHECK_ITEMS_ON_BOT"]),summa(){console.log(1),this.GET_ITEMS_INVENTORY()},async getInventoryItem(){this.loadingTable=!0,this.GET_ITEMS_INVENTORY(),this.loadingTable=!1},addItemInSale(){this.GET_ITEMS_ON_SALE()}}},F=V,X=(0,T.Z)(F,q,H,!1,null,null,null),j=X.exports,W={name:"OldItemView",components:{NewItem:j}},J=W,z=(0,T.Z)(J,Y,D,!1,null,null,null),Q=z.exports;s.ZP.use(y.ZP);const tt=[{path:"/",name:"home",component:G},{path:"/olditem",name:"olditem",component:Q}],et=new y.ZP({mode:"history",base:"/",routes:tt});var nt=et,st=n(8433);s.ZP.use(p.ZP);const it="https://cors.eu.org/",at="https://market.csgo.com/api",rt="8b40w7zrq0Q9Z8iV3WS80j8FN8H9G62";var ot=new p.ZP.Store({state:{apiKey:"",sum:0,inventoryList:[],itemsListNow:[],currentItemInfo:{},online:!1,isItemsOnBot:!1},getters:{},mutations:{MUTATE_API_KEY(t,e){t.apiKey=e},MUTATE_INVENTORY(t,e){t.inventoryList=e},MUTATE_ONLINE(t,e){t.online=e},MUTATE_ITEMS_LIST_NOW(t,e){var n=e;for(let i=0;i<n.length;i++){var s=JSON.parse(localStorage.getItem(""+(n[i].classid+"_"+n[i].instanceid)));s&&(s.min&&(n[i].MIN_PRICE=Number(s.min)),s.max&&(n[i].MAX_PRICE=Number(s.max)),s.updatePrice&&(n[i].UPDATE_PRICE=s.updatePrice))}t.itemsListNow=n},MUTATE_ITEMS_INFO_BY_ID(t,e){var n=e,s=JSON.parse(localStorage.getItem(""+(e.classid+"_"+e.instanceid)));s&&(n.minPrice=s.min,n.maxPrice=s.max,console.log(s)),t.currentItemInfo=n},MUTATE_CHECK_ITEMS_ON_BOT(t,e){t.isItemsOnBot=e}},actions:{PING_ONLINE({commit:t}){st.Z.get(it+at+`/v2/ping?key=${state.apiKey}`,{headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{t("MUTATE_ONLINE",e.data.online)})).catch((t=>{console.log(t)}))},GET_ITEMS_INVENTORY({commit:t,state:e}){st.Z.get(it+at+`/v2/my-inventory/?key=${e.apiKey}`,{headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{t("MUTATE_INVENTORY",e.data.items)})).catch((t=>{console.log(t)}))},GET_ITEMS_LIST_NOW({commit:t,state:e}){st.Z.get(it+at+`/v2/items?key=${e.apiKey}`,{headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{t("MUTATE_ITEMS_LIST_NOW",e.data.items)})).catch((t=>{console.log(t)}))},GET_ITEMS_INFO_BY_ID({commit:t,state:e},n){st.Z.get(it+at+`/ItemInfo/${n.class}_${n.instance}/ru/?key=${e.apiKey}`,{headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{t("MUTATE_ITEMS_INFO_BY_ID",e.data)})).catch((t=>{console.log(t)}))},UPDATE_PICE_ITEM({commit:t,state:e},n){st.Z.get(it+at+`/BestSellOffer/${n.class}_${n.instance}/?key=${e.apiKey}`,{headers:{"x-requested-with":"XMLHttpRequest"}}).then((t=>{var s=0;console.log(100*n.price),t.data.best_offer<100*n.price?s=t.data.best_offer>100*n.min?t.data.best_offer-1:100*n.max:t.data.best_offer>100*n.price&&(s=t.data.best_offer-1),console.log("Цена = "+s),s!=100*n.price&&st.Z.put(it+at+`/MassSetPrice/${n.class}_${n.instance}/${s}/?key=${e.apiKey}`,{headers:{"x-requested-with":"XMLHttpRequest"}}).then((t=>t.data.success)).catch((t=>(console.log(t),!1)))})).catch((t=>(console.log(t),!1)))},GET_ITEMS_ON_SALE({commit:t}){},CHECK_ITEMS_ON_BOT({commit:t}){st.Z.get(it+at+`/v2/trades/?key=${rt}`,{headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{t("MUTATE_CHECK_ITEMS_ON_BOT",e.data.success)})).catch((t=>{console.log(t)}))},ADD_ITEM_IN_SALE({commit:t},e){console.log(e)}},modules:{}}),ct=n(8986);s.ZP.use(ct.Z);var lt=new ct.Z({}),ut=n(6123),dt=n.n(ut);s.ZP.config.productionTip=!1,s.ZP.use(dt()),new s.ZP({router:nt,store:ot,vuetify:lt,render:t=>t(g)}).$mount("#app")}},e={};function n(s){var i=e[s];if(void 0!==i)return i.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,n),a.exports}n.m=t,function(){var t=[];n.O=function(e,s,i,a){if(!s){var r=1/0;for(u=0;u<t.length;u++){s=t[u][0],i=t[u][1],a=t[u][2];for(var o=!0,c=0;c<s.length;c++)(!1&a||r>=a)&&Object.keys(n.O).every((function(t){return n.O[t](s[c])}))?s.splice(c--,1):(o=!1,a<r&&(r=a));if(o){t.splice(u--,1);var l=i();void 0!==l&&(e=l)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[s,i,a]}}(),function(){n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,{a:e}),e}}(),function(){n.d=function(t,e){for(var s in e)n.o(e,s)&&!n.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};n.O.j=function(e){return 0===t[e]};var e=function(e,s){var i,a,r=s[0],o=s[1],c=s[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(i in o)n.o(o,i)&&(n.m[i]=o[i]);if(c)var u=c(n)}for(e&&e(s);l<r.length;l++)a=r[l],n.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return n.O(u)},s=self["webpackChunkbot_tm"]=self["webpackChunkbot_tm"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=n.O(void 0,[998],(function(){return n(3172)}));s=n.O(s)})();
//# sourceMappingURL=app.6723eb40.js.map