(function(e){function t(t){for(var n,s,o=t[0],c=t[1],l=t[2],d=0,m=[];d<o.length;d++)s=o[d],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&m.push(a[s][0]),a[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(m.length)m.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],n=!0,o=1;o<r.length;o++){var c=r[o];0!==a[c]&&(n=!1)}n&&(i.splice(t--,1),e=s(s.s=r[0]))}return e}var n={},a={app:0},i=[];function s(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=n,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)s.d(r,n,function(t){return e[t]}.bind(null,n));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var l=0;l<o.length;l++)t(o[l]);var u=c;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"068d":function(e,t,r){e.exports=r.p+"img/11.44c239a5.jpg"},"06d4":function(e,t,r){e.exports=r.p+"img/6.44c239a5.jpg"},"0a06":function(e,t,r){e.exports=r.p+"img/14.44c239a5.jpg"},1:function(e,t){},1152:function(e,t,r){},"11d9":function(e,t,r){e.exports=r.p+"img/3.44c239a5.jpg"},"15ea":function(e,t,r){e.exports=r.p+"img/8.44c239a5.jpg"},"32a5":function(e,t,r){e.exports=r.p+"img/7.44c239a5.jpg"},4009:function(e,t,r){"use strict";r("d3b2")},"405a":function(e,t,r){e.exports=r.p+"img/2.44c239a5.jpg"},"431a":function(e,t,r){e.exports=r.p+"img/15.44c239a5.jpg"},"4d0f":function(e,t,r){e.exports=r.p+"img/5.44c239a5.jpg"},"4e6b":function(e,t,r){e.exports=r.p+"img/17.44c239a5.jpg"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("tn-snackbar"),r("tn-confirm",{ref:"confirm"}),r("v-main",{staticClass:"pa-0 px-2"},[e.isIE11?r("v-alert",{attrs:{value:e.isIE11,type:"error"}},[e._v("Внимание! Систему необходимо запускать в браузере Google Chrome. В Internet Explorer система работает некорректно")]):e._e(),e.check?r("router-view"):e._e()],1)],1)},i=[],s=r("1da1"),o=r("5530"),c=(r("96cf"),r("a15b"),r("d81d"),r("4e827"),r("b0c0"),r("2f62")),l=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-snackbar",{attrs:{value:e.snackbarParams.active,color:e.snackbarParams.color,timeout:e.snackbarParams.timeout||3e3,bottom:"","multi-line":"",shaped:""},on:{change:function(t){return e.change()}}},[e._v(e._s(e.snackbarParams.text))])},u=[],d={computed:{snackbarParams:function(){return this.$store.state.snackbarParams}},watch:{snackbarParams:function(e){var t=this;e.active&&setTimeout((function(){t.$store.commit("MUTATE_SNACKBAR_PARAMS",{color:"",text:"",active:!1})}),this.snackbarParams.timeout)}}},m=d,f=r("2877"),p=r("6544"),_=r.n(p),v=r("2db4"),h=Object(f["a"])(m,l,u,!1,null,null,null),b=h.exports;_()(h,{VSnackbar:v["a"]});var I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-dialog",{style:{zIndex:e.options.zIndex},attrs:{dark:"","max-width":e.options.width},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel.apply(null,arguments)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-toolbar",{attrs:{dark:"",color:e.options.color,dense:"",flat:""}},[r("v-toolbar-title",{staticClass:"white--text",domProps:{innerHTML:e._s(e.title)}})],1),r("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!e.message,expression:"!!message"}],staticClass:"pa-4",domProps:{innerHTML:e._s(e.message)}}),r("v-card-actions",{staticClass:"pt-0"},[r("v-spacer"),e.btn?r("v-btn",{attrs:{color:"green",text:""},nativeOn:{click:function(t){return e.exit.apply(null,arguments)}}},[e._v("Да и выйти")]):e._e(),r("v-btn",{attrs:{color:"blue",text:""},nativeOn:{click:function(t){return e.agree.apply(null,arguments)}}},[e._v("Да")]),r("v-btn",{attrs:{color:"grey",text:""},nativeOn:{click:function(t){return e.cancel.apply(null,arguments)}}},[e._v("Нет")])],1)],1)],1)},E=[],g=(r("d3b7"),{data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,btn:!1,options:{color:"blue",width:290,zIndex:200}}},computed:{},methods:{open:function(e,t,r,n){var a=this;return this.dialog=!0,this.title=e,this.message=t,this.options=Object.assign(this.options,r),this.btn=n,new Promise((function(e,t){a.resolve=e,a.reject=t}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1},exit:function(){this.resolve("exit"),this.dialog=!1}}}),O=g,M=r("8336"),x=r("b0af"),T=r("99d9"),C=r("169a"),P=r("2fa4"),A=r("71d9"),N=r("2a7f"),w=Object(f["a"])(O,I,E,!1,null,null,null),S=w.exports;_()(w,{VBtn:M["a"],VCard:x["a"],VCardActions:T["a"],VCardText:T["b"],VDialog:C["a"],VSpacer:P["a"],VToolbar:A["a"],VToolbarTitle:N["a"]});var R=r("940b"),k="https://yznpwawyzanlgxwshcdy.supabase.co",y="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inl6bnB3YXd5emFubGd4d3NoY2R5Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzM3NDI0OTAsImV4cCI6MjA0OTMxODQ5MH0.9FfjwuNIFUJhhvIXMAlb7ZW-69LJ-xZjDkZXeRpZrTM",U=Object(R["a"])(k,y),j={name:"app",components:{TnConfirm:S,TnSnackbar:b},data:function(){return{currentTime:"",trav:null,check:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["d"])("nsi",["month","title","navMenu","currentPeople","membersList"])),{},{isIE11:function(){return!!window.MSInputMethodContext&&!!document.documentMode},getTime:function(){var e=new Date;return[e.getHours(),e.getMinutes(),e.getSeconds()].map((function(e){return e<10?"0"+e:e})).join(":")},getPath:function(){return"/home"==this.$route.path}}),mounted:function(){this.$root.$confirm=this.$refs.confirm.open,this.getMembers(),this.getList()},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])(Object(o["a"])({add:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.rpc("hello");case 2:t=e.sent,t.data,t.error;case 5:case"end":return e.stop()}}),e)})))()}},Object(c["c"])("nsi",["MUTATE_TITLE_TEXT","MUTATE_MEMBERS","MUTATE_CURRENT_PEOPLE"])),Object(c["b"])("nsi",["GET_CURRENT_MEMBER"])),Object(c["c"])("nsi",["MUTATE_FIGURE"])),{},{getMembers:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$GF.getMembers();case 2:return r=t.sent,e.MUTATE_MEMBERS(r.data),t.next=6,U.from("curmem").select();case 6:if(n=t.sent,!(n.data.length>0)){t.next=10;break}return t.next=10,e.MUTATE_CURRENT_PEOPLE(n.data[0]);case 10:e.check=!0;case 11:case"end":return t.stop()}}),t)})))()},getList:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.prev=1,r=[],t.next=5,U.from("figures").select("id, name, violations (id, name, points, kol)");case 5:if(n=t.sent,a=n.data,i=n.error,s=n.status,!i||406===s){t.next=11;break}throw i;case 11:a&&(r=a,r.sort((function(e,t){return e.name>t.name?1:-1})),e.MUTATE_FIGURE(r)),t.next=17;break;case 14:throw t.prev=14,t.t0=t["catch"](1),t.t0;case 17:t.next=22;break;case 19:t.prev=19,t.t1=t["catch"](0),alert(t.t1.message);case 22:case"end":return t.stop()}}),t,null,[[0,19],[1,14]])})))()}})},D=j,L=(r("034f"),r("bffd"),r("0798")),V=r("7496"),H=r("f6c4"),B=Object(f["a"])(D,a,i,!1,null,"3be6e2a6",null),$=B.exports;_()(B,{VAlert:L["a"],VApp:V["a"],VMain:H["a"]});var F={pageCardHeight:900,snackbarParams:{active:!1,text:"",color:""}},G=(r("99af"),{SHOW_ERROR:function(e,t){var r=e.commit,n=t.response?"".concat(t," | ").concat(t.response.data.message," | "):t;return r("MUTATE_SNACKBAR_PARAMS",{color:"error",text:n,active:!0,timeout:1e4}),!1},SHOW_SNACKBAR:function(e,t){var r=e.commit;r("MUTATE_SNACKBAR_PARAMS",{color:"success",text:t,active:!0,timeout:3e3})},SHOW_INFO_SNACKBAR:function(e,t){var r=e.commit;r("MUTATE_SNACKBAR_PARAMS",{color:"info",text:t,active:!0,timeout:3e3})}}),z={getPageHeight:function(e){return{height:"".concat(e.pageCardHeight,"px"),maxHeight:"".concat(e.pageCardHeight,"px")}}},K={MUTATE_PAGE_HEIGHT:function(e,t){n["a"].set(e,"pageCardHeight",t)},MUTATE_SNACKBAR_PARAMS:function(e,t){n["a"].set(e,"snackbarParams",Object(o["a"])({},t))}},W=r("ade3"),q=(r("159b"),Object(W["a"])({month:["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"],figure:[{NAME:"Бокс",ID:1},{NAME:"Ворота",ID:2},{NAME:"Круг",ID:3},{NAME:"Коридор",ID:4},{NAME:"Восьмерка",ID:5},{NAME:"Змейка",ID:6},{NAME:"Дворик",ID:7},{NAME:"Осторожное торможение",ID:8},{NAME:"Колея",ID:9},{NAME:"Эстафета",ID:10},{NAME:"Горка",ID:11},{NAME:"Ров с водой",ID:12}],breachList:[{ID:1,ID_FIGURE:1,NAME:"Сбита или задета фишка",POINTS:20},{ID:2,ID_FIGURE:2,NAME:"Сбита или задета фишка",POINTS:20},{ID:3,ID_FIGURE:3,NAME:"Сбита или задета фишка",POINTS:20},{ID:4,ID_FIGURE:4,NAME:"Сбита или задета фишка",POINTS:20},{ID:5,ID_FIGURE:5,NAME:"Сбита или задета фишка",POINTS:20},{ID:6,ID_FIGURE:6,NAME:"Сбита или задета фишка",POINTS:20},{ID:7,ID_FIGURE:6,NAME:"Пропуск одного проезда",POINTS:50},{ID:8,ID_FIGURE:6,NAME:"Пропуск двух и более проездов",POINTS:-1},{ID:9,ID_FIGURE:7,NAME:"Сбита или задета фишка",POINTS:20},{ID:10,ID_FIGURE:7,NAME:"Выступание габаритов авто за габариты фигуры",POINTS:10},{ID:11,ID_FIGURE:7,NAME:"Нет сигнала перед началом движения зад. ход.",POINTS:20},{ID:12,ID_FIGURE:7,NAME:"Повторное включение зад. ход. при развороте",POINTS:10},{ID:13,ID_FIGURE:8,NAME:"Сбитая или задетая планка",POINTS:20},{ID:14,ID_FIGURE:8,NAME:"Остановка авто на расст. от планки более 0.5м.",POINTS:20},{ID:15,ID_FIGURE:9,NAME:"Съезд колес авто с намеченной дороги",POINTS:20},{ID:16,ID_FIGURE:10,NAME:"Урон кольца",POINTS:10},{ID:17,ID_FIGURE:11,NAME:"Отсутсвие фиксации остановки авто",POINTS:50},{ID:18,ID_FIGURE:11,NAME:"Откат авто назад более 0.5м.",POINTS:10},{ID:19,ID_FIGURE:11,NAME:"Остановка авто за линией более 0.5м.",POINTS:10},{ID:20,ID_FIGURE:12,NAME:"Остановка авто в границах препятствия",POINTS:10}],numPath:[1,2],numFine:[1,2,3,4,5,6,7,8,9],peoples:[{ID:1,NAME:"Имя 1",SECONDNAME:"Фам 1",OTCH:"Отч 1",OST:"АУП",AGE:40,WORK:"Должность",WORK_AGE:5},{ID:2,NAME:"Имя 2",SECONDNAME:"Фам 2",OTCH:"Отч 2",OST:"ЧелНУ",AGE:41,WORK:"Должность",WORK_AGE:4},{ID:3,NAME:"Имя 3",SECONDNAME:"Фам 3",OTCH:"Отч 3",OST:"КНУ",AGE:42,WORK:"Должность",WORK_AGE:3}],currentPeople:{},resultList:[{ID:1,NAME:"Шалупов Иван Сергеевич",OST:"АУП",TIME:"03:55",POINTS:50},{ID:2,NAME:"IBC1",OST:"АУП",TIME:"03:56",POINTS:51},{ID:3,NAME:"IBC2",OST:"АУП",TIME:"03:57",POINTS:52},{ID:4,NAME:"IBC3",OST:"АУП",TIME:"03:58",POINTS:53},{ID:5,NAME:"IBC4",OST:"АУП",TIME:"03:59",POINTS:54},{ID:6,NAME:"IBC5",OST:"АУП",TIME:"03:51",POINTS:55},{ID:7,NAME:"IBC6",OST:"АУП",TIME:"03:52",POINTS:56},{ID:8,NAME:"IBC7",OST:"АУП",TIME:"03:53",POINTS:57},{ID:9,NAME:"IBC8",OST:"АУП",TIME:"03:54",POINTS:58},{ID:2,NAME:"IBC1",OST:"АУП",TIME:"03:56",POINTS:51},{ID:3,NAME:"IBC2",OST:"АУП",TIME:"03:57",POINTS:52},{ID:4,NAME:"IBC3",OST:"АУП",TIME:"03:58",POINTS:53},{ID:5,NAME:"IBC4",OST:"АУП",TIME:"03:59",POINTS:54},{ID:6,NAME:"IBC5",OST:"АУП",TIME:"03:51",POINTS:55},{ID:7,NAME:"IBC6",OST:"АУП",TIME:"03:52",POINTS:56},{ID:8,NAME:"IBC7",OST:"АУП",TIME:"03:53",POINTS:57},{ID:9,NAME:"IBC8",OST:"АУП",TIME:"03:54",POINTS:58},{ID:2,NAME:"IBC1",OST:"АУП",TIME:"03:56",POINTS:51},{ID:3,NAME:"IBC2",OST:"АУП",TIME:"03:57",POINTS:52},{ID:4,NAME:"IBC3",OST:"АУП",TIME:"03:58",POINTS:53},{ID:5,NAME:"IBC4",OST:"АУП",TIME:"03:59",POINTS:54},{ID:6,NAME:"IBC5",OST:"АУП",TIME:"03:51",POINTS:55},{ID:7,NAME:"IBC6",OST:"АУП",TIME:"03:52",POINTS:56},{ID:8,NAME:"IBC7",OST:"АУП",TIME:"03:53",POINTS:57},{ID:9,NAME:"IBC8",OST:"АУП",TIME:"03:54",POINTS:58}],membersList:[]},"figure",[])),J={MUTATE_CURRENT_PEOPLE:function(e,t){e.currentPeople=t},MUTATE_MEMBERS:function(e,t){e.membersList=t},MUTATE_FIGURE:function(e,t){e.figure=t}},X={namespaced:!0,state:q,mutations:J};n["a"].use(c["a"]);var Z=new c["a"].Store({state:F,actions:G,getters:z,mutations:K,modules:{nsi:X}}),Y=Z,Q=r("f309"),ee=r("e1bf");n["a"].use(Q["a"]);var te=new Q["a"]({lang:{locales:{ru:ee["a"]},current:"ru"}}),re=r("8c4f"),ne=r("28dd"),ae=r("825ae"),ie=r("2b27"),se=r.n(ie),oe={getMembers:function(){return Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,U.from("members").select();case 2:return t=e.sent,console.log(t),t.data.sort((function(e,t){var r=0,n=0,a=0,i=0;if(r=e.path1_error>5e3?-1e4:0-e.path1_points-e.path1_error-e.teor_1-e.teor_2,n=e.path2_error>5e3?-1e4:0-e.path2_points-e.path2_error-e.teor_1-e.teor_2,a=t.path1_error>5e3?-1e4:0-t.path1_points-t.path1_error-t.teor_1-t.teor_2,i=t.path2_error>5e3?-1e4:0-t.path2_points-t.path2_error-t.teor_1-t.teor_2,0==r&&0==n)return 1;if(0==a&&0==i)return-1;var s=r>n&&0!=r&&-1e4!=r||-1e4==n||0==n?r:n,o=a>i&&0!=a&&-1e4!=a||-1e4==i||0==i?a:i;return 0==s&&o<0?1:0==o&&s<0?-1:s==o&&e.id<t.id||s<o?1:-1})),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})))()}};n["a"].prototype.$GF=oe;var ce=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{flat:""}},[r("home")],1)},le=[],ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card-text",{staticClass:"pa-0"},[n("v-img",{staticClass:"shrink mr-2",staticStyle:{position:"absolute",top:"0",left:"2%",opacity:"0.2","z-index":"0"},attrs:{src:r("86d5"),height:"76px",width:"100%"}}),n("v-row",[n("v-col",{staticClass:"pb-0",attrs:{cols:"12",lg:"8"}},[e.isMobile?n("h3",{staticClass:"d-flex justify-center pt-6",staticStyle:{height:"76px"}},[e.isOut?n("v-btn",{attrs:{href:"http://ural.transneft.ru/loginost/?UserOst[i]=best2023ural&UserOst[n]=804426",color:"secondary",absolute:"",left:"",top:""}},[e._v("Назад")]):e._e(),e._v(" ТАБЛИЦА РЕЗУЛЬТАТОВ ")],1):n("h2",{staticClass:"title"},[e.isOut?n("v-btn",{attrs:{href:"http://ural.transneft.ru/loginost/?UserOst[i]=best2023ural&UserOst[n]=804426",color:"secondary",absolute:"",left:"",top:""}},[e._v("Назад")]):e._e(),e._v(" ТАБЛИЦА РЕЗУЛЬТАТОВ ")],1),n("div",{staticClass:"shine-animation shine_1",style:{"--color":e.color}},[n("figure",[n("table",{staticClass:"v-data-table",staticStyle:{width:"100%"},attrs:{height:e.tableHeight}},[n("thead",{staticClass:"v-data-table-header"},[n("tr",{style:{fontSize:e.isMobile?"1em":"2em"}},[n("th",{staticClass:"text-center",staticStyle:{width:"5%"},attrs:{rowspan:"2"}},[e._v("№")]),n("th",{staticClass:"text-center",staticStyle:{width:"25%"},attrs:{rowspan:"2"}},[e._v("ФИО")]),n("th",{staticClass:"text-center",staticStyle:{width:"14%"},attrs:{rowspan:"2"}},[e._v("ОСТ")]),n("th",{staticClass:"text-center",staticStyle:{width:"10%"},attrs:{rowspan:"1",colspan:"2"}},[e._v("Теория")]),n("th",{staticClass:"text-center",staticStyle:{width:"20%"},attrs:{rowspan:"1",colspan:"3"}},[e._v("Заезд 1")]),n("th",{staticClass:"text-center",staticStyle:{width:"20%"},attrs:{rowspan:"1",colspan:"3"}},[e._v("Заезд 2")])]),n("tr",[n("th",{staticClass:"text-center",staticStyle:{width:"5%"},attrs:{rowspan:"1"}},[e._v("Этап 1")]),n("th",{staticClass:"text-center",staticStyle:{width:"5%"},attrs:{rowspan:"1"}},[e._v("Этап 2")]),n("th",{staticClass:"text-center",staticStyle:{width:"8%"},attrs:{rowspan:"1"}},[e._v("Время")]),n("th",{staticClass:"text-center",staticStyle:{width:"6%"},attrs:{rowspan:"1"}},[e._v("Штраф")]),n("th",{staticClass:"text-center",staticStyle:{width:"6%"},attrs:{rowspan:"1"}},[e._v("Итого")]),n("th",{staticClass:"text-center",staticStyle:{width:"8%"},attrs:{rowspan:"1"}},[e._v("Время")]),n("th",{staticClass:"text-center",staticStyle:{width:"6%"},attrs:{rowspan:"1"}},[e._v("Штраф")]),n("th",{staticClass:"text-center",staticStyle:{width:"6%"},attrs:{rowspan:"1"}},[e._v("Итого")])])]),n("tbody",e._l(e.filterMembersList,(function(t,r){return n("tr",{key:r,style:{"--fontSize":e.isMobile?"0.9em":"1.4em"}},[n("td",{staticClass:"px-2"},[n("div",{staticClass:"d-flex justify-space-around align-center",style:{background:0==r?"linear-gradient(90deg,gold 5%, transparent 90%)":1==r?"linear-gradient(90deg,silver 5%, transparent 65%)":2==r?"linear-gradient(90deg,tan 5%, transparent 40%)":"",width:"100%",height:"100%"}},[e.newBestResultGreen.indexOf(r)>=0?n("v-icon",{attrs:{color:"success",large:"",left:""}},[e._v("mdi-menu-up")]):e.newBestResultRed.indexOf(r)>=0?n("v-icon",{attrs:{color:"error",large:"",left:""}},[e._v("mdi-menu-down")]):n("v-icon",{attrs:{color:"secondary",large:"",left:""}},[e._v("mdi-menu-right")]),e._v(" "+e._s(r+1)+" ")],1)]),n("td",{staticClass:"px-2 text-center text-decoration-underline",staticStyle:{cursor:"pointer"},on:{click:function(t){e.indexUser=r}}},[e._v(e._s(t.fio_f)+" "+e._s(t.fio_i)+" "+e._s(t.fio_o))]),n("td",{staticClass:"px-2 text-center"},[e._v(e._s(t.job))]),n("td",{staticClass:"px-2 text-center"},[e._v(e._s(t.teor_1))]),n("td",{staticClass:"px-2 text-center"},[e._v(e._s(t.teor_2))]),t.path1_error<5e3?[n("td",{staticClass:"px-2 text-center"},[e._v(" "+e._s(e._f("minutesSeconds")(t.path1_time))+" ")]),n("td",{staticClass:"px-2 text-center text-decoration-underline",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.getMoreInfo(t.id,1)}}},[e._v(" "+e._s(t.path1_error)+" ")]),n("td",{staticClass:"px-2 text-center"},[n("span",{style:{color:t.path2_time+t.path2_error>=t.path1_time+t.path1_error?"green":"#ee3124"}},[e._v(" "+e._s(Math.round(100*(t.path1_time+t.path1_error+t.teor_1+t.teor_2))/100)+" ")])])]:n("td",{staticClass:"px-2 text-center",attrs:{colspan:"3"},on:{click:function(r){return e.getMoreInfo(t.id,1)}}},[e._v("Не пройдено")]),t.path2_error<5e3?[n("td",{staticClass:"px-2 text-center"},[e._v(" "+e._s(e._f("minutesSeconds")(t.path2_time))+" ")]),n("td",{staticClass:"px-2 text-center text-decoration-underline",staticStyle:{cursor:"pointer"},on:{click:function(r){return e.getMoreInfo(t.id,2)}}},[e._v(" "+e._s(t.path2_error)+" ")]),n("td",{staticClass:"px-2 text-center"},[n("span",{style:{color:t.path2_time+t.path2_error<t.path1_time+t.path1_error?"green":"#ee3124"}},[e._v(" "+e._s(Math.round(100*(t.path2_time+t.path2_error+t.teor_1+t.teor_2))/100)+" ")])])]:n("td",{staticClass:"px-2 text-center",attrs:{colspan:"3"},on:{click:function(r){return e.getMoreInfo(t.id,2)}}},[e._v("Не пройдено")])],2)})),0)])])])]),n("v-col",{key:e.filterCurrentMembers.fio_f,staticClass:"fadeNew pb-0",attrs:{cols:"12",lg:"4"}},[n("div",{staticClass:"fadeOut"},[n("h2",{staticClass:"title"},[e._v("ИНФОРМАЦИЯ УЧАСТНИКА")]),n("div",{staticClass:"people",style:{minHeight:e.tableHeight}},[n("div",{staticClass:"people__roundFoto"},[n("span"),n("span"),n("div",{staticClass:"people__roundFoto-wrapper"},[n("v-img",{attrs:{src:r("710a")("./"+e.filterCurrentMembers.num_members+".jpg"),contain:""}})],1)]),n("h2",{staticClass:"people__name"},[e._v(e._s(e.filterCurrentMembers.fio_f)+" "+e._s(e.filterCurrentMembers.fio_i))]),n("h2",{staticClass:"people__secondName"},[e._v(e._s(e.filterCurrentMembers.fio_o))]),n("h2",{staticClass:"people__profession"},[e._v(e._s(e.filterCurrentMembers.job_prof))]),n("v-list",[n("v-divider"),n("v-list-item",[n("v-list-item-title",[e._v("ОСТ")]),n("v-list-item-subtitle",[e._v(e._s(e.filterCurrentMembers.job)+" / "+e._s(e.filterCurrentMembers.filial))])],1)],1),n("v-divider"),n("table",{staticClass:"v-data-table",staticStyle:{"font-size":"1.6em",width:"95%",margin:"12px auto"}},[n("thead",{staticClass:"v-data-table-header"},[n("tr",{style:{fontSize:e.isMobile?"1em":"1.8em"}},[n("th",{staticClass:"text-center pa-2",staticStyle:{width:"50%"}},[e._v("Фигура")]),n("th",{staticClass:"text-center pa-2",staticStyle:{width:"25%"}},[e._v("Заезд 1")]),n("th",{staticClass:"text-center pa-2",staticStyle:{width:"25%"}},[e._v("Заезд 2")])])]),n("tbody",[e._l(e.filterCurrentMembersError,(function(t){return[t.PATH1>0||t.PATH2>0?n("tr",{key:t.NAME,staticClass:"trNone",style:{fontSize:e.isMobile?"0.9em":"1.6em"}},[n("td",{staticClass:"text-center",staticStyle:{width:"50%",height:"36px"}},[e._v(e._s(t.NAME))]),n("td",{staticClass:"text-center",staticStyle:{width:"25%"}},[e._v(e._s(t.PATH1>5e3?"-":t.PATH1))]),n("td",{staticClass:"text-center",staticStyle:{width:"25%"}},[e._v(e._s(t.PATH2>5e3?"-":t.PATH2))])]):e._e()]})),n("tr",{style:{fontSize:e.isMobile?"0.9em":"1.6em"}},[n("td",{staticClass:"px-2 text-center",staticStyle:{width:"50%",color:"#005596 !important",height:"36px"}},[e._v("Итого")]),n("td",{staticClass:"px-2 text-center",staticStyle:{width:"25%",color:"#005596 !important"}},[e._v(e._s(e.getSumRace(1)))]),n("td",{staticClass:"px-2 text-center",staticStyle:{width:"25%",color:"#005596 !important"}},[e._v(e._s(e.getSumRace(2)))])])],2)])],1)])])],1),n("v-overlay",{attrs:{value:e.formLoading}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1),n("v-dialog",{attrs:{"max-width":"700"},model:{value:e.dialogInfo,callback:function(t){e.dialogInfo=t},expression:"dialogInfo"}},[n("v-card",{staticClass:"editJob"},[n("v-card-title",{staticClass:"primary white--text",staticStyle:{"border-radius":"0 0 10px 10px"}},[n("span",{staticClass:"text-h5"},[e._v("ИНФОРМАЦИЯ ")])]),n("v-divider",{staticClass:"my-4 mx-6"}),n("v-card-text",[n("v-list",{attrs:{dense:""}},e._l(e.figure,(function(t){return n("v-list-item",{key:t.id,staticStyle:{"border-bottom":"1px solid black"}},[n("v-list-item-content",[e._v(" "+e._s(t.name)+" ")]),n("v-list-item-action",[e.currentMoreInfo.find((function(e){return e.violations.id_figure==t.id}))?n("span",{staticClass:"success--text"},[e._v("Отмечено")]):n("span",{staticClass:"error--text"},[e._v("Не отмечено")])])],1)})),1)],1),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"secondary darken-1"},on:{click:function(t){e.dialogInfo=!1}}},[n("v-icon",{attrs:{small:""}},[e._v("mdi-arrow-left")]),e._v("Закрыть ")],1)],1)],1)],1)],1)},de=[],me=r("2909"),fe=(r("b65f"),r("b680"),r("ac1f"),r("00b4"),r("4de4"),r("466d"),r("3ca3"),r("ddb0"),r("7db0"),r("c740"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"pa-2",attrs:{id:"chart"}},[r("apexchart",{attrs:{type:"bar",height:"650",options:e.chartOptions,series:e.series}})],1)}),pe=[],_e=r("1321"),ve=r.n(_e),he={name:"LineChart",components:{apexchart:ve.a},data:function(){return{tempArr:[],check:!1,series:[{name:"Этап 1",data:[0,0,140,0,0,0,20,10,0,0,0,0,0,10]},{name:"Этап 2",data:[10,0,200,0,0,10,10,0,0,0,0,0,10,20]}],chartOptions:{chart:{type:"bar",width:560,align:"top",toolbar:{show:!1}},colors:["#d3d3d3","#9b9b9b"],plotOptions:{bar:{horizontal:!1,columnWidth:"90%",dataLabels:{position:"top",maxItems:100,orientation:"horizontal"}}},dataLabels:{enabled:!0,style:{fontSize:"16px",colors:["#005596"]}},xaxis:{categories:["Бокс","Ворота","Восьмерка","Горка","Дворик Б","Дворик М","Змейка","Колея","Коридор","Круг","Торможение","Ров с водой","Старт","Эстафета"],position:"bottom",title:{text:"Фигуры"}},yaxix:{labels:{align:"left"}},legend:{show:!0,offsetY:5}}}},props:{},mounted:function(){}},be=he,Ie=(r("f968"),Object(f["a"])(be,fe,pe,!1,null,null,null)),Ee=Ie.exports,ge={components:{LineChart:Ee},data:function(){return{color:"rgba(0, 110, 255, 0.3)",userRef:null,formLoading:!1,indexUser:0,errorMembers:[],newBestResultGreen:[],newBestResultRed:[],laViolation:[],dialogInfo:!1,currentMoreInfo:[]}},filters:{minutesSeconds:function(e){if(e){var t=Math.trunc(e/60),r=e%60;return"".concat(t<10?"0"+t:t,":").concat(r<10?"0"+r.toFixed(2):r.toFixed(2))}return"00:00.0"}},watch:{indexUser:function(){this.getErrorMembers()}},computed:Object(o["a"])(Object(o["a"])({},Object(c["d"])("nsi",["resultList","membersList","currentPeople","figure"])),{},{tableHeight:function(){return window.innerHeight-70+"px"},isMobile:function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)},isOut:function(){return 1==this.$route.query.isOut},filterCurrentMembers:function(){return this.membersList[this.indexUser]},filterMembersList:function(){return this.membersList},filterCurrentMembersError:function(){for(var e=this,t=[],r={NAME:"",PATH1:0,PATH2:0},n=function(n){var a=e.errorMembers.filter((function(t){return 1==t.num_race&&t.violations.id_figure==e.figure[n].id}));r.PATH1=a.reduce((function(e,t){return e+t.violations.points}),0);var i=e.errorMembers.filter((function(t){return 2==t.num_race&&t.violations.id_figure==e.figure[n].id}));r.PATH2=i.reduce((function(e,t){return e+t.violations.points}),0),r.NAME=e.figure[n].name,t.push(r),r={}},a=0;a<this.figure.length;a++)n(a);return t}}),mounted:function(){this.getCurrentUser(),this.newColor(),this.isMobile||this.updateTable()},methods:Object(o["a"])(Object(o["a"])({},Object(c["c"])("nsi",["MUTATE_MEMBERS"])),{},{getMoreInfo:function(e,t){var r=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var a,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return r.dialogInfo=!0,n.next=3,U.from("main_table").select("id, violations (id, id_figure)").match({id_member:e,num_race:t});case 3:a=n.sent,i=a.data,a.error,r.currentMoreInfo=Object(me["a"])(i);case 7:case"end":return n.stop()}}),n)})))()},getCurrentUser:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:setInterval((function(){e.indexUser<e.membersList.length-1?e.indexUser++:e.indexUser=0}),2e4);case 1:case"end":return t.stop()}}),t)})))()},getErrorMembers:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,U.from("main_table").select("id, num_race, violations (id, name, points, id_figure)").match({id_member:e.membersList[e.indexUser].id});case 2:r=t.sent,n=r.data,r.error,e.errorMembers=n;case 6:case"end":return t.stop()}}),t)})))()},filterRace:function(e,t){var r=this.errorMembers.filter((function(r){return r.num_race==e&&r.violations.id_figure==t}));return r.reduce((function(e,t){return e+t.violations.points}),0)},getSumRace:function(e){var t=this.errorMembers.filter((function(t){return t.num_race==e})),r=t.reduce((function(e,t){return e+t.violations.points}),0);return r>5e3?"Отменен":r},updateMembers:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.userRef=2,e.userRef=3,e.getUser();case 3:case"end":return t.stop()}}),t)})))()},updateTable:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:setInterval((function(){e.refreshMainTable()}),6e4);case 1:case"end":return t.stop()}}),t)})))()},refreshMainTable:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i,s,o,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,U.from("violations").select();case 3:if(r=t.sent,n=r.data,a=r.error,i=n,!a){t.next=9;break}throw a;case 9:s=0;case 10:if(!(s<e.membersList.length)){t.next=29;break}return t.prev=11,t.delegateYield(regeneratorRuntime.mark((function t(){var r,n,a,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,U.from("main_table").select("id, num_race, id_violation").match({id_member:e.membersList[s].id});case 2:if(r=t.sent,n=r.data,a=r.error,!a){t.next=7;break}throw a;case 7:for(o={path1:0,path2:0},c=function(e){1==n[e].num_race?o.path1+=i.find((function(t){return t.id==n[e].id_violation})).points:o.path2+=i.find((function(t){return t.id==n[e].id_violation})).points},l=0;l<n.length;l++)c(l);case 10:case"end":return t.stop()}}),t)}))(),"t0",13);case 13:t.next=18;break;case 15:throw t.prev=15,t.t1=t["catch"](11),t.t1;case 18:return t.prev=18,t.next=21,U.from("members").update({path1_error:o.path1,path2_error:o.path2}).eq("id",e.membersList[s].id);case 21:if(c=t.sent,l=c.error,!l){t.next=25;break}throw l;case 25:return t.finish(18);case 26:s++,t.next=10;break;case 29:t.next=34;break;case 31:t.prev=31,t.t2=t["catch"](0),console.log(t.t2);case 34:return t.prev=34,e.getMembers(),t.finish(34);case 37:case"end":return t.stop()}}),t,null,[[0,31,34,37],[11,15,18,26]])})))()},getMembers:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$GF.getMembers();case 2:r=t.sent,n=e,e.newBestResultGreen=[],e.newBestResultRed=[],e.membersList.map((function(e,t){var a=r.data.findIndex((function(t){return t.id==e.id}));t>a?n.newBestResultGreen.push(a):t<a&&n.newBestResultRed.push(a)})),e.MUTATE_MEMBERS(r.data);case 8:case"end":return t.stop()}}),t)})))()},newColor:function(){var e=this;setInterval((function(){e.color="rgba(".concat(Math.floor(256*Math.random()),",").concat(Math.floor(256*Math.random()),",").concat(Math.floor(256*Math.random()),", 0.3)")}),6e4)}})},Oe=ge,Me=(r("4009"),r("62ad")),xe=r("ce7e"),Te=r("132d"),Ce=r("adda"),Pe=r("8860"),Ae=r("da13"),Ne=r("1800"),we=r("5d23"),Se=r("a797"),Re=r("490a"),ke=r("0fd9"),ye=Object(f["a"])(Oe,ue,de,!1,null,"38c94b24",null),Ue=ye.exports;_()(ye,{VBtn:M["a"],VCard:x["a"],VCardActions:T["a"],VCardText:T["b"],VCardTitle:T["c"],VCol:Me["a"],VDialog:C["a"],VDivider:xe["a"],VIcon:Te["a"],VImg:Ce["a"],VList:Pe["a"],VListItem:Ae["a"],VListItemAction:Ne["a"],VListItemContent:we["a"],VListItemSubtitle:we["b"],VListItemTitle:we["c"],VOverlay:Se["a"],VProgressCircular:Re["a"],VRow:ke["a"],VSpacer:P["a"]});var je={components:{Home:Ue},name:"HomeView",mounted:function(){},computed:{},methods:{}},De=je,Le=(r("e0c0"),Object(f["a"])(De,ce,le,!1,null,"8cc2097a",null)),Ve=Le.exports;_()(Le,{VCard:x["a"]});var He=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{flat:""}},[r("admin-local")],1)},Be=[],$e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card-text",["LOCAL"!=e.isAdmin.role?r("v-toolbar",{attrs:{color:"error"}},[r("h3",{staticClass:"white--text"},[e._v("Неправильная ссылка")])]):r("v-row",[r("v-col",{attrs:{cols:"12",lg:"4"}},[r("v-form",{staticClass:"mb-16 mt-4"},[r("v-card",{staticClass:"pa-4"},[r("v-card-title",{},[e._v("Информация о судье")]),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{label:"ФИО судьи",readonly:"",dense:"","hide-details":""},model:{value:e.editedItem.AUTOR_NAME,callback:function(t){e.$set(e.editedItem,"AUTOR_NAME",t)},expression:"editedItem.AUTOR_NAME"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.figure,label:"Фигура","item-text":"name","item-value":"id",dense:"","hide-details":"",readonly:""},model:{value:e.editedItem.NUM_FIGURE,callback:function(t){e.$set(e.editedItem,"NUM_FIGURE",t)},expression:"editedItem.NUM_FIGURE"}})],1)],1)],1)],1),e.isEditForm?r("v-form",[r("v-card",{staticClass:"pa-4"},[r("v-card-title",{},[e._v("Запись ошибок на фигурах")]),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.numPath,label:"Номер заезда",dense:"","hide-details":""},on:{change:function(t){return e.checkKolViolation()}},model:{value:e.editedItem.NUM_PATH,callback:function(t){e.$set(e.editedItem,"NUM_PATH",t)},expression:"editedItem.NUM_PATH"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.filterMemberList,"item-value":"id",label:"Участник",dense:"","hide-details":""},on:{change:function(t){return e.checkKolViolation()}},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.item;return[e._v(" "+e._s("Участник №"+r.id)+" ")]}},{key:"item",fn:function(t){var r=t.item;return[e._v(" "+e._s("Участник №"+r.id)+" ")]}}],null,!0),model:{value:e.editedItem.PEOPLE_CODE,callback:function(t){e.$set(e.editedItem,"PEOPLE_CODE",t)},expression:"editedItem.PEOPLE_CODE"}})],1),r("v-col",[r("v-row",[r("v-col",{staticClass:"text-center",attrs:{cols:"3"}},[e.changeViolationArr.find((function(t){return t==e.editedItem.NUM_FIGURE}))?r("v-btn",{attrs:{color:"error",icon:"",fab:""},on:{click:function(t){return e.changeKolError(-1)}}},[r("v-icon",{attrs:{size:"120"}},[e._v("mdi-minus")])],1):e._e()],1),r("v-col",{staticClass:"text-center",staticStyle:{"font-size":"40px"},attrs:{cols:"6"}},[r("h1",{staticClass:"mt-5"},[e._v(e._s(e.kolError))])]),r("v-col",{staticClass:"text-center",attrs:{cols:"3"}},[e.changeViolationArr.find((function(t){return t==e.editedItem.NUM_FIGURE}))?r("v-btn",{attrs:{color:"success",icon:"",fab:""},on:{click:function(t){return e.changeKolError(1)}}},[r("v-icon",{attrs:{size:"120"}},[e._v("mdi-plus")])],1):e._e()],1)],1)],1),r("v-col",{attrs:{cols:"12"}},[r("v-list",{staticClass:"pa-0 infoList",attrs:{dense:""}},e._l(e.filterGroupByCategory,(function(t,n){return r("v-list-item",{key:n},[r("v-list-item-content",[r("v-list-item-title",[e._v(" "+e._s(e.editedItem.AUTOR_NAME)+" ")]),r("v-list-item-subtitle",[e._v(" "+e._s(t.name)+" ("+e._s(t.points)+") ")])],1),r("v-list-item-action",[e._v("Кол-во: "+e._s(t.kol))])],1)})),1)],1),e.editedItem.NUM_PATH&&e.editedItem.PEOPLE_CODE?e._l(e.filterBreachList,(function(t){return r("v-col",{key:t.id,staticClass:"py-0",attrs:{cols:"12"}},[r("v-btn",{staticClass:"my-1",staticStyle:{"font-size":"10px"},attrs:{disabled:e.groupByCategory.filter((function(e){return e.id_violation==t.id})).length==t.kol,color:"success",height:"35",block:"",small:""},domProps:{innerHTML:e._s(t.name)},on:{click:function(r){return e.addFinePeople(t)}}})],1)})):e._e()],2)],1)],1):e._e()],1),r("v-col",{attrs:{cols:"12",lg:"8"}})],1),r("v-overlay",{attrs:{value:e.formLoading}},[r("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},Fe=[],Ge=(r("07ac"),{data:function(){return{editedItem:{},isAdmin:{role:""},formLoading:!1,breachList:[],groupByCategory:[],kolError:1,changeViolationArr:[3,5,6,7,14]}},computed:Object(o["a"])(Object(o["a"])({},Object(c["d"])("nsi",["numPath","membersList","numFine","currentPeople","figure"])),{},{tableHeight:function(){return window.innerHeight-120},isEditForm:function(){if(this.editedItem.AUTOR_NAME&&this.editedItem.NUM_FIGURE)return!0},filterBreachList:function(){var e=this;return this.figure.find((function(t){return t.id==e.editedItem.NUM_FIGURE})).violations.sort((function(e,t){return e.points>t.points?1:-1}))},filterGroupByCategory:function(){if(this.groupByCategory.length>0){var e=Object.values(this.groupByCategory.reduce((function(e,t){var r=t.violations;return e[r.id]?e[r.id].kol++:e[r.id]={id:r.id,name:r.name,points:r.points,kol:1},e}),{}));return e}return[]},filterMemberList:function(){return this.membersList.sort((function(e,t){return e.id>t.id?1:-1}))}}),watch:{currentPeople:function(e,t){e&&(this.$set(this.editedItem,"NUM_PATH",e.path_num),this.$set(this.editedItem,"PEOPLE_CODE",e.members_id))}},mounted:function(){this.getAdmin(),this.currentPeople&&(this.$set(this.editedItem,"NUM_PATH",this.currentPeople.path_num),this.$set(this.editedItem,"PEOPLE_CODE",this.currentPeople.members_id))},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["b"])(["SHOW_ERROR","SHOW_SNACKBAR"])),Object(c["c"])("nsi",["MUTATE_CURRENT_PEOPLE"])),{},{changeKolError:function(e){this.kolError+=e,this.kolError<1?this.kolError=1:this.kolError=this.kolError},getAdmin:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,a,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e.formLoading=!0,t.next=4,U.from("admins").select().eq("id",e.$route.query.id).single();case 4:if(r=t.sent,n=r.data,a=r.error,i=r.status,!a||406===i){t.next=10;break}throw a;case 10:n&&(e.isAdmin=n,e.$set(e.editedItem,"AUTOR_NAME",e.isAdmin.fio),e.$set(e.editedItem,"NUM_FIGURE",e.isAdmin.id_figure)),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](0),console.log(t.t0.message);case 16:return t.prev=16,e.formLoading=!1,t.finish(16);case 19:try{U.channel("custom-update-channel").on("postgres_changes",{event:"UPDATE",schema:"public",table:"curmem"},(function(t){console.log("Change received!",t),e.MUTATE_CURRENT_PEOPLE(t.new),alert("Обновился участник")})).subscribe()}catch(a){console.log(a)}case 20:case"end":return t.stop()}}),t,null,[[0,13,16,19]])})))()},checkKolViolation:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.editedItem.NUM_PATH||!e.editedItem.PEOPLE_CODE){t.next=18;break}return t.prev=1,e.formLoading=!0,t.next=5,U.from("main_table").select("violations (id, id_figure, name, points)").match({id_admin:e.$route.query.id,id_member:e.editedItem.PEOPLE_CODE,num_race:e.editedItem.NUM_PATH});case 5:r=t.sent,n=r.data,r.error,r.status,e.groupByCategory=n,t.next=15;break;case 12:t.prev=12,t.t0=t["catch"](1),alert(t.t0.message);case 15:return t.prev=15,e.formLoading=!1,t.finish(15);case 18:case"end":return t.stop()}}),t,null,[[1,12,15,18]])})))()},addFinePeople:function(e){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function r(){var n,a,i,s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t.editedItem.NUM_PATH&&t.editedItem.PEOPLE_CODE){r.next=3;break}return t.SHOW_ERROR("Нет текущего участника"),r.abrupt("return");case 3:return r.next=5,t.$root.$confirm("Внимание!","Добавить:<br> ".concat(e.name," <br>Кол-во: ").concat(t.kolError," <br>  Участнику №").concat(t.editedItem.PEOPLE_CODE),{color:"info"});case 5:if(n=r.sent,n){r.next=8;break}return r.abrupt("return");case 8:r.prev=8,t.formLoading=!0,a=0;case 11:if(!(a<t.kolError)){r.next=21;break}return r.next=14,U.from("main_table").insert({id_admin:t.$route.query.id,num_race:t.editedItem.NUM_PATH,id_member:t.editedItem.PEOPLE_CODE,id_violation:e.id});case 14:if(i=r.sent,s=i.error,!s){r.next=18;break}throw s;case 18:a++,r.next=11;break;case 21:t.SHOW_SNACKBAR("Штраф добавлен участнику"),t.kolError=1,t.checkKolViolation(),r.next=29;break;case 26:r.prev=26,r.t0=r["catch"](8),t.SHOW_ERROR(r.t0);case 29:return r.prev=29,t.formLoading=!1,r.finish(29);case 32:case"end":return r.stop()}}),r,null,[[8,26,29,32]])})))()}})}),ze=Ge,Ke=(r("6829"),r("4bd4")),We=r("b974"),qe=r("8654"),Je=Object(f["a"])(ze,$e,Fe,!1,null,"0750417c",null),Xe=Je.exports;_()(Je,{VBtn:M["a"],VCard:x["a"],VCardText:T["b"],VCardTitle:T["c"],VCol:Me["a"],VForm:Ke["a"],VIcon:Te["a"],VList:Pe["a"],VListItem:Ae["a"],VListItemAction:Ne["a"],VListItemContent:we["a"],VListItemSubtitle:we["b"],VListItemTitle:we["c"],VOverlay:Se["a"],VProgressCircular:Re["a"],VRow:ke["a"],VSelect:We["a"],VTextField:qe["a"],VToolbar:A["a"]});var Ze={components:{AdminLocal:Xe},name:"AdminLocalView",mounted:function(){},computed:{},methods:{}},Ye=Ze,Qe=(r("f826"),Object(f["a"])(Ye,He,Be,!1,null,"18c79ae4",null)),et=Qe.exports;_()(Qe,{VCard:x["a"]});var tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card",{attrs:{flat:""}},[r("admin-main")],1)},rt=[],nt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-card-text",["MAIN"!=e.isAdmin.role?r("v-toolbar",{attrs:{color:"error"}},[r("h3",{staticClass:"white--text"},[e._v("Неправильная ссылка")])]):r("v-row",[r("v-col",{attrs:{cols:"12",lg:"4"}},[r("v-form",{staticClass:"mb-16 mt-4"},[r("v-card",{staticClass:"pa-4"},[r("v-card-title",[e._v("Текущий участник")]),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.numPath,label:"Номер заезда",dense:"","hide-details":""},model:{value:e.createUser.NUM_PATH,callback:function(t){e.$set(e.createUser,"NUM_PATH",t)},expression:"createUser.NUM_PATH"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.filterMemberList,"item-value":"id",label:"Участник",dense:"","hide-details":""},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.item;return[e._v(" "+e._s("Участник №"+r.id)+" ")]}},{key:"item",fn:function(t){var r=t.item;return[e._v(" "+e._s("Участник №"+r.id)+" ")]}}],null,!0),model:{value:e.createUser.PEOPLE_CODE,callback:function(t){e.$set(e.createUser,"PEOPLE_CODE",t)},expression:"createUser.PEOPLE_CODE"}})],1)],1),r("v-card-actions",[r("v-btn",{staticClass:"mt-4",attrs:{color:"success"},on:{click:function(t){return e.addCurrentPeople()}}},[e._v("Сохранить участника")])],1)],1)],1)],1),r("v-col",{attrs:{cols:"12",lg:"4"}},[r("v-form",{staticClass:"mb-16 mt-4"},[r("v-card",{staticClass:"pa-4"},[r("v-card-title",{},[e._v("Финиш участника")]),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.numPath,label:"Номер заезда",dense:"","hide-details":""},model:{value:e.editedItem.NUM_PATH,callback:function(t){e.$set(e.editedItem,"NUM_PATH",t)},expression:"editedItem.NUM_PATH"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.filterMemberList,"item-value":"id",label:"Участник",dense:"","hide-details":""},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.item;return[e._v(" "+e._s("Участник №"+r.id)+" ")]}},{key:"item",fn:function(t){var r=t.item;return[e._v(" "+e._s("Участник №"+r.id)+" ")]}}],null,!0),model:{value:e.editedItem.PEOPLE_CODE,callback:function(t){e.$set(e.editedItem,"PEOPLE_CODE",t)},expression:"editedItem.PEOPLE_CODE"}})],1),r("v-col",{attrs:{cols:"4"}},[r("v-text-field",{attrs:{type:"number",label:"Минуты",dense:"","hide-details":""},model:{value:e.editedItem.TIME_MIN,callback:function(t){e.$set(e.editedItem,"TIME_MIN",t)},expression:"editedItem.TIME_MIN"}})],1),r("v-col",{attrs:{cols:"4"}},[r("v-text-field",{attrs:{type:"number",label:"Секунды",dense:"","hide-details":""},model:{value:e.editedItem.TIME_SEC,callback:function(t){e.$set(e.editedItem,"TIME_SEC",t)},expression:"editedItem.TIME_SEC"}})],1),r("v-col",{attrs:{cols:"4"}},[r("v-text-field",{attrs:{type:"number",label:"Милисекунды",dense:"","hide-details":""},model:{value:e.editedItem.TIME_MIL,callback:function(t){e.$set(e.editedItem,"TIME_MIL",t)},expression:"editedItem.TIME_MIL"}})],1)],1),r("v-card-actions",[r("v-btn",{staticClass:"mt-4",attrs:{color:"success"},on:{click:function(t){return e.addFinishTimePeople()}}},[e._v("Сохранить результат")])],1)],1)],1)],1),r("v-col",{attrs:{cols:"12",lg:"4"}},[r("v-form",{staticClass:"mb-16 mt-4"},[r("v-card",{staticClass:"pa-4"},[r("v-card-title",{},[e._v("Результаты теории")]),r("v-row",[r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.numPath,label:"Номер теории",dense:"","hide-details":""},model:{value:e.editedItem.NUM_TEOR,callback:function(t){e.$set(e.editedItem,"NUM_TEOR",t)},expression:"editedItem.NUM_TEOR"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-select",{attrs:{items:e.filterMemberList,"item-value":"id",label:"Участник",dense:"","hide-details":""},scopedSlots:e._u([{key:"selection",fn:function(t){var r=t.item;return[e._v(" "+e._s("Участник №"+r.id)+" ")]}},{key:"item",fn:function(t){var r=t.item;return[e._v(" "+e._s("Участник №"+r.id)+" ")]}}],null,!0),model:{value:e.editedItem.PEOPLE_CODE,callback:function(t){e.$set(e.editedItem,"PEOPLE_CODE",t)},expression:"editedItem.PEOPLE_CODE"}})],1),r("v-col",{attrs:{cols:"12"}},[r("v-text-field",{attrs:{type:"number",label:"Баллы",dense:"","hide-details":""},model:{value:e.editedItem.POINT_TEOR,callback:function(t){e.$set(e.editedItem,"POINT_TEOR",t)},expression:"editedItem.POINT_TEOR"}})],1)],1),r("v-card-actions",[r("v-btn",{staticClass:"mt-4",attrs:{color:"success"},on:{click:function(t){return e.addTeorPeople()}}},[e._v("Сохранить результат")])],1)],1)],1)],1)],1),r("v-overlay",{attrs:{value:e.formLoading}},[r("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1)],1)},at=[],it=(r("a9e3"),{data:function(){return{editedItem:{},createUser:{},isAdmin:{role:""},formLoading:!1}},computed:Object(o["a"])(Object(o["a"])({},Object(c["d"])("nsi",["figure","numPath","membersList","numFine","currentPeople"])),{},{tableHeight:function(){return window.innerHeight-120},isEditForm:function(){if(this.editedItem.AUTOR_NAME&&this.editedItem.NUM_FIGURE)return!0},filterMemberList:function(){return this.membersList.sort((function(e,t){return e.id>t.id?1:-1}))}}),mounted:function(){this.getAdmin(),this.currentPeople&&(this.$set(this.editedItem,"NUM_PATH",this.currentPeople.path_num),this.$set(this.editedItem,"PEOPLE_CODE",this.currentPeople.members_id))},methods:Object(o["a"])(Object(o["a"])(Object(o["a"])({},Object(c["c"])("nsi",["MUTATE_CURRENT_PEOPLE"])),Object(c["b"])(["SHOW_ERROR","SHOW_SNACKBAR"])),{},{getAdmin:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.formLoading=!0,t.next=3,U.from("admins").select().match({id:e.$route.query.id});case 3:r=t.sent,e.isAdmin=r.data[0],e.formLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},getUser:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.formLoading=!0,t.next=3,db.collection("admins").doc(e.$route.query.id).get().then((function(t){e.isAdmin=t.data()})).catch((function(e){console.error(e)}));case 3:setTimeout((function(){console.log(1)}),1500),e.$set(e.editedItem,"NUM_PATH",e.currentPeople.path_num),e.$set(e.editedItem,"PEOPLE_CODE",e.currentPeople.members_id),e.$set(e.createUser,"NUM_PATH",e.currentPeople.path_num),e.$set(e.createUser,"PEOPLE_CODE",e.currentPeople.members_id),e.$set(e.editedItem,"TIME_MIN",0),e.$set(e.editedItem,"TIME_SEC",0),e.formLoading=!1;case 11:case"end":return t.stop()}}),t)})))()},addCurrentPeople:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.formLoading=!0,t.next=3,U.from("curmem").update({members_id:e.createUser.PEOPLE_CODE,path_num:e.createUser.NUM_PATH}).eq("id",1);case 3:r=t.sent,console.log(r),e.formLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},addFinishTimePeople:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.editedItem.NUM_PATH&&e.editedItem.PEOPLE_CODE){t.next=3;break}return e.SHOW_ERROR("Нет текущего участника"),t.abrupt("return");case 3:if(r=60*Number(e.editedItem.TIME_MIN?e.editedItem.TIME_MIN:0)+Number(e.editedItem.TIME_SEC?e.editedItem.TIME_SEC:0)+Number(e.editedItem.TIME_MIL?e.editedItem.TIME_MIL:0)/100,console.log(r),!(r<=0)){t.next=8;break}return e.SHOW_ERROR("Не указано время"),t.abrupt("return");case 8:return t.next=10,e.$root.$confirm("Внимание!","Сохранить результат<br> участника №".concat(e.editedItem.PEOPLE_CODE,"?"),{color:"info"});case 10:if(n=t.sent,n){t.next=13;break}return t.abrupt("return");case 13:if(e.$set(e.editedItem,"TIME",r),t.prev=14,1!=e.editedItem.NUM_PATH){t.next=21;break}return t.next=18,U.from("members").update({path1_points:e.editedItem.TIME,path1_time:e.editedItem.TIME}).eq("id",e.editedItem.PEOPLE_CODE);case 18:a=t.sent,t.next=24;break;case 21:return t.next=23,U.from("members").update({path2_points:e.editedItem.TIME,path2_time:e.editedItem.TIME}).eq("id",e.editedItem.PEOPLE_CODE);case 23:a=t.sent;case 24:if(!a.error){t.next=26;break}throw a.error;case 26:t.next=31;break;case 28:t.prev=28,t.t0=t["catch"](14),alert(t.t0);case 31:return t.prev=31,e.editedItem={},t.finish(31);case 34:case"end":return t.stop()}}),t,null,[[14,28,31,34]])})))()},addTeorPeople:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.editedItem.NUM_TEOR&&e.editedItem.PEOPLE_CODE){t.next=3;break}return e.SHOW_ERROR("Нет текущего участника"),t.abrupt("return");case 3:if(e.editedItem.POINT_TEOR){t.next=6;break}return e.SHOW_ERROR("Не указаны быллы за теорию"),t.abrupt("return");case 6:return t.next=8,e.$root.$confirm("Внимание!","Сохранить результат<br> участника №".concat(e.editedItem.PEOPLE_CODE,"?"),{color:"info"});case 8:if(r=t.sent,r){t.next=11;break}return t.abrupt("return");case 11:if(t.prev=11,1!=e.editedItem.NUM_TEOR){t.next=18;break}return t.next=15,U.from("members").update({teor_1:e.editedItem.POINT_TEOR}).eq("id",e.editedItem.PEOPLE_CODE);case 15:n=t.sent,t.next=21;break;case 18:return t.next=20,U.from("members").update({teor_2:e.editedItem.POINT_TEOR}).eq("id",e.editedItem.PEOPLE_CODE);case 20:n=t.sent;case 21:if(!n.error){t.next=23;break}throw n.error;case 23:t.next=28;break;case 25:t.prev=25,t.t0=t["catch"](11),alert(t.t0);case 28:return t.prev=28,e.editedItem={},t.finish(28);case 31:case"end":return t.stop()}}),t,null,[[11,25,28,31]])})))()}})}),st=it,ot=(r("db7f"),Object(f["a"])(st,nt,at,!1,null,"4dec31bb",null)),ct=ot.exports;_()(ot,{VBtn:M["a"],VCard:x["a"],VCardActions:T["a"],VCardText:T["b"],VCardTitle:T["c"],VCol:Me["a"],VForm:Ke["a"],VOverlay:Se["a"],VProgressCircular:Re["a"],VRow:ke["a"],VSelect:We["a"],VTextField:qe["a"],VToolbar:A["a"]});var lt={components:{AdminMain:ct},name:"AdminMainView",mounted:function(){},computed:{},methods:{}},ut=lt,dt=(r("faaf"),Object(f["a"])(ut,tt,rt,!1,null,"65b99294",null)),mt=dt.exports;_()(dt,{VCard:x["a"]}),n["a"].use(re["a"]);var ft=new re["a"]({routes:[{path:"/",redirect:"/home"},{path:"/home",name:"HomeView",component:Ve,meta:{title:"Начальная страница"}},{path:"/adminlocal",name:"AdminLocalView",component:et,meta:{title:"Админы на формах"}},{path:"/adminmain",name:"AdminMainView",component:mt,meta:{title:"Главный админ"}}]}),pt=ft;n["a"].prototype.$BASE_URL="assets/",n["a"].use(se.a),n["a"].use(re["a"]),n["a"].use(ae["a"]),n["a"].use(ne["a"]),n["a"].config.productionTip=!1,new n["a"]({store:Y,vuetify:te,render:function(e){return e($)},router:pt}).$mount("#app")},"58c1":function(e,t,r){e.exports=r.p+"img/16.44c239a5.jpg"},6585:function(e,t,r){e.exports=r.p+"img/qr.fba3d063.jpg"},6829:function(e,t,r){"use strict";r("fcca")},"6d96":function(e,t,r){e.exports=r.p+"img/9.44c239a5.jpg"},"710a":function(e,t,r){var n={"./1.jpg":"8554","./10.jpg":"efcc","./11.jpg":"068d","./12.jpg":"e834","./13.jpg":"c246","./14.jpg":"0a06","./15.jpg":"431a","./16.jpg":"58c1","./17.jpg":"4e6b","./2.jpg":"405a","./3.jpg":"11d9","./4.jpg":"bafb","./5.jpg":"4d0f","./6.jpg":"06d4","./7.jpg":"32a5","./8.jpg":"15ea","./9.jpg":"6d96","./bg.jpg":"86d5","./qr.jpg":"6585"};function a(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id="710a"},8554:function(e,t,r){e.exports=r.p+"img/1.44c239a5.jpg"},"85ec":function(e,t,r){},"86d5":function(e,t,r){e.exports=r.p+"img/bg.94f5bb65.jpg"},a324:function(e,t,r){},b5ae:function(e,t,r){},bafb:function(e,t,r){e.exports=r.p+"img/4.44c239a5.jpg"},bffd:function(e,t,r){"use strict";r("c996")},c246:function(e,t,r){e.exports=r.p+"img/13.44c239a5.jpg"},c650:function(e,t,r){},c996:function(e,t,r){},d3b2:function(e,t,r){},db7f:function(e,t,r){"use strict";r("dd9f")},dd9f:function(e,t,r){},e0c0:function(e,t,r){"use strict";r("c650")},e834:function(e,t,r){e.exports=r.p+"img/12.44c239a5.jpg"},efcc:function(e,t,r){e.exports=r.p+"img/10.44c239a5.jpg"},f826:function(e,t,r){"use strict";r("1152")},f968:function(e,t,r){"use strict";r("a324")},faaf:function(e,t,r){"use strict";r("b5ae")},fcca:function(e,t,r){}});
//# sourceMappingURL=app.179dd907.js.map