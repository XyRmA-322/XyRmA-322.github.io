(function(){"use strict";var t={1091:function(t,e,s){var i=s(144),n=s(3726),a=s(259),r=s(4741),o=s(7024),c=s(1819),l=s(7690),u=s(9088),d=s(3102),m=s(7894),_=s(7377),I=s(9007),h=function(){var t=this,e=t._self._c;return e(n.Z,[e(a.Z,{attrs:{app:"",color:"light",height:"80",dark:""}},[e(c.Z,[e(m.Z,[e(o.Z,{attrs:{cols:"2"}},[e(_.Z,{attrs:{"true-value":t.online,color:t.online?"success":"error",label:`Статус онлайна: ${t.online.toString()}`},on:{change:function(e){return t.isOnlineUserInSite()}},model:{value:t.online,callback:function(e){t.online=e},expression:"online"}})],1),e(l.Z,{staticClass:"my-2",attrs:{vertical:""}}),e(o.Z,{attrs:{cols:"3"}},[e("div",{staticClass:"d-flex"},[e(I.Z,{attrs:{type:"password",label:"Введите ключ Api",dense:"","hide-details":""},model:{value:t.pApiKey,callback:function(e){t.pApiKey=e},expression:"pApiKey"}}),e(r.Z,{attrs:{color:"success",icon:"",large:""},on:{click:function(e){return t.addApiKey()}}},[e(u.Z,[t._v("mdi-content-save-outline")])],1)],1)]),e(l.Z,{staticClass:"my-2",attrs:{vertical:""}}),e(o.Z,{attrs:{cols:"2"}},[e(r.Z,{attrs:{color:"error",block:""},on:{click:function(e){return t.deleteSavePrice()}}},[t._v("Удалить все цены"),e(u.Z,[t._v("mdi-delete")])],1)],1),e(l.Z,{staticClass:"my-2",attrs:{vertical:""}}),e(o.Z,{attrs:{cols:"2"}},[e("span",[t._v(t._s(2==t.statusTakeItem?"Отдай боту предмет":4==t.statusTakeItem?"Забери предмет":"Нечего передавать / принимать"))])])],1)],1)],1),e(d.Z,{staticStyle:{background:"#1e1e1e"}},[e("router-view")],1)],1)},p=[],T=s(629),f={name:"App",data(){return{pApiKey:"",loadingCheck:!1}},computed:{...(0,T.rn)(["online","isItemsOnBot","statusTakeItem"])},mounted(){this.pApiKey=localStorage.getItem("API_KEY"),this.pApiKey&&this.MUTATE_API_KEY(this.pApiKey),this.isOnlineUserInSite()},methods:{...(0,T.nv)(["GET_API","PING_ONLINE","CHECK_ITEMS_ON_BOT"]),...(0,T.OI)(["MUTATE_API_KEY"]),isOnlineUserInSite(){this.PING_ONLINE(),setInterval((()=>{this.PING_ONLINE()}),18e4)},addApiKey(){localStorage.setItem("API_KEY",this.pApiKey)},async checkItemsOnBot(){this.$refs.audio.play()},deleteSavePrice(){localStorage.clear(),localStorage.setItem("API_KEY",this.pApiKey)}}},E=f,v=s(1001),y=(0,v.Z)(E,h,p,!1,null,null,null),N=y.exports,g=s(4903),M=function(){var t=this,e=t._self._c;return e("new-item")},P=[],S=s(3816),Z=s(5255),x=s(2603),O=s(1729),A=s(268),b=s(2515),w=function(){var t=this,e=t._self._c;return e(c.Z,[e(O.Z,{attrs:{items:t.itemsListNow,loading:t.loadingTable,"items-per-page":-1,dense:"",dark:""},scopedSlots:t._u([{key:"top",fn:function(){return[e(r.Z,{staticClass:"ma-4",attrs:{color:"primary",dense:""},on:{click:function(e){return t.addItemsListNow()}}},[t._v("Предметы на продаже")]),t.itemsListNow.length>0?e(r.Z,{staticClass:"ma-4",attrs:{color:t.updateItem?"success":"warning",dense:""},on:{click:function(e){return t.updatePriceItems()}}},[t._v("Обновлять цены")]):t._e(),e(A.Z,{attrs:{loading:t.loadingTable,"max-width":"700"},model:{value:t.dialogEdit,callback:function(e){t.dialogEdit=e},expression:"dialogEdit"}},[e(S.Z,[e(Z.EB,{staticClass:"primary white--text",staticStyle:{"border-radius":"0 0 10px 10px"}},[t._v("Редактировнаие предмета")]),e(l.Z,{staticClass:"my-4 mx-3"}),e(Z.ZB,[e(m.Z,[e(o.Z,{attrs:{cols:"12"}},[e(_.Z,{attrs:{color:t.currentItemInfo.updatePrice?"success":"error",label:"Отслеживать изменение цены","hide-details":"",dense:""},model:{value:t.currentItemInfo.updatePrice,callback:function(e){t.$set(t.currentItemInfo,"updatePrice",e)},expression:"currentItemInfo.updatePrice"}})],1),e(o.Z,{attrs:{cols:"12"}},[e(I.Z,{attrs:{label:"Название предмета",readonly:"",dense:"","hide-details":""},model:{value:t.currentItemInfo.name,callback:function(e){t.$set(t.currentItemInfo,"name",e)},expression:"currentItemInfo.name"}})],1),e(o.Z,{attrs:{cols:"5"}},[e(I.Z,{attrs:{label:"Качество",readonly:"",dense:"","hide-details":""},model:{value:t.currentItemInfo.quality,callback:function(e){t.$set(t.currentItemInfo,"quality",e)},expression:"currentItemInfo.quality"}})],1),e(o.Z,{attrs:{cols:"5"}},[e(I.Z,{attrs:{label:"Раритетность",readonly:"",dense:"","hide-details":""},model:{value:t.currentItemInfo.rarity,callback:function(e){t.$set(t.currentItemInfo,"rarity",e)},expression:"currentItemInfo.rarity"}})],1),e(o.Z,{attrs:{cols:"2"}},[e(I.Z,{attrs:{value:t.currentItemInfo.stickers?"Есть":"Нет",label:"Наклейки",readonly:"",dense:"","hide-details":""}})],1),e(o.Z,{attrs:{cols:"4"}},[e(I.Z,{attrs:{label:"Минимальная цена (Твоя)",dense:"","hide-details":""},model:{value:t.currentItemInfo.minPrice,callback:function(e){t.$set(t.currentItemInfo,"minPrice",e)},expression:"currentItemInfo.minPrice"}})],1),e(o.Z,{attrs:{cols:"4"}},[e(I.Z,{attrs:{value:t.currentItemInfo.min_price/100,label:"Минимальная цена (Маркет)",readonly:"",dense:"","hide-details":""}})],1),e(o.Z,{attrs:{cols:"4"}},[e(I.Z,{attrs:{label:"Твоя максимальная цена",dense:"","hide-details":""},model:{value:t.currentItemInfo.maxPrice,callback:function(e){t.$set(t.currentItemInfo,"maxPrice",e)},expression:"currentItemInfo.maxPrice"}})],1)],1),e("span",{staticClass:"error--text mt-4"},[t._v("Цены в рублях")])],1),e(Z.h7,[e(b.Z),e(r.Z,{attrs:{color:"success"},on:{click:function(e){return t.saveEditItem()}}},[t._v("Сохранить")]),e(r.Z,{attrs:{color:"secondary"},on:{click:function(e){t.dialogEdit=!1}}},[t._v("Закрыть")])],1)],1)],1)]},proxy:!0},{key:"header",fn:function(){return[e("tr",[e("th",{staticStyle:{width:"50px"}},[t._v("Действия")]),e("th",[t._v("№")]),e("th",[t._v("Статус")]),e("th",[t._v("Название")]),e("th",{staticStyle:{width:"100px"}},[t._v("Min")]),e("th",[t._v("Твоя цена")]),e("th",{staticStyle:{width:"100px"}},[t._v("Max")]),e("th",[t._v("Позиция")])])]},proxy:!0},{key:"item",fn:function({item:s,index:i}){return[e("tr",[e("td",{staticClass:"text-center"},[e("div",{staticClass:"d-flex align-center"},[e(x.Z,{attrs:{readonly:""},model:{value:s.UPDATE_PRICE,callback:function(e){t.$set(s,"UPDATE_PRICE",e)},expression:"item.UPDATE_PRICE"}}),e(r.Z,{attrs:{color:"primary",icon:""},on:{click:function(e){return t.edititem(s)}}},[e(u.Z,[t._v("mdi-pencil")])],1)],1)]),e("td",{staticClass:"text-center"},[t._v(t._s(i+1))]),e("td",{staticClass:"text-center"},[t._v(t._s(1==s.status?"На продаже":2==s.status?"Продана":3==s.status?"Куплена":"Забрать"))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.market_hash_name))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.MIN_PRICE))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.price))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.MAX_PRICE))]),e("td",{staticClass:"text-center",style:{background:s.position<10?"#4caf50":"#fb8c00"}},[t._v(t._s(s.position))])])]}}],null,!0)}),e("audio",{ref:"audio",attrs:{src:s(9515)}})],1)},k=[],C=(s(7658),{name:"NewItem",data(){return{loadingTable:!1,currentItem:{},dialogEdit:!1,tempArr:[],updateItem:!1}},computed:{...(0,T.rn)(["sum","inventoryList","isItemsOnBot","itemsListNow","currentItemInfo"]),getMinPriceItem(){return this.pastMinPriceItem()}},mounted(){},methods:{async add(){var t=await this.GET_ITEMS_INFO_BY_ID({class:5268244156,instance:188530139});console.log(t);var e=await this.GET_ITEMS_INFO_BY_ID({class:5268244156,instance:188530139});console.log(e)},...(0,T.nv)(["GET_ITEMS_INVENTORY","ADD_ITEM_IN_SALE","CHECK_ITEMS_ON_BOT","GET_ITEMS_LIST_NOW","GET_ITEMS_INFO_BY_ID","UPDATE_PICE_ITEM"]),...(0,T.OI)(["MUTATE_STATUS_TAKE_ITEM"]),async pastMinPriceItem(t,e){var s=null;for(let i=0;i<this.itemsListNow.length;i++)s=await this.GET_ITEMS_INFO_BY_ID({class:this.itemsListNow[i].classid,instance:this.itemsListNow[i].instanceid}),s&&(this.itemsListNow[i].market_hash_name=s.market_name,this.$set(this.itemsListNow[i],"CURRENT_PRICE",s.min_price)),s=null;return this.itemsListNow},async edititem(t){this.dialogEdit=!0,this.loadingTable=!0,await this.GET_ITEMS_INFO_BY_ID({class:t.classid,instance:t.instanceid}),this.loadingTable=!1},async saveEditItem(){localStorage.setItem(""+(this.currentItemInfo.classid+"_"+this.currentItemInfo.instanceid),JSON.stringify({min:this.currentItemInfo.minPrice,max:this.currentItemInfo.maxPrice,updatePrice:this.currentItemInfo.updatePrice})),this.dialogEdit=!1,this.addItemsListNow()},async getInventoryItem(){this.loadingTable=!0,this.GET_ITEMS_INVENTORY(),this.loadingTable=!1},addItemInSale(){this.GET_ITEMS_ON_SALE()},async addItemsListNow(){this.loadingTable=!0,await this.GET_ITEMS_LIST_NOW(),setTimeout((()=>{var t=this.itemsListNow.find((t=>2==t.status)),e=this.itemsListNow.find((t=>4==t.status));this.$refs.audio.volume=.4,t&&(this.$refs.audio.play(),this.MUTATE_STATUS_TAKE_ITEM(2)),e&&(this.$refs.audio.play(),this.MUTATE_STATUS_TAKE_ITEM(4)),this.$emit("start","Отдай"),this.loadingTable=!1}),2e3)},async updateMassPrice(){this.tempArr=[];for(const t of this.itemsListNow)this.updatePriceItem(t);setTimeout((()=>{this.addItemsListNow()}),4e3)},async updatePriceItems(){this.updateItem||(this.updateItem=!0,this.updateMassPrice(),setInterval((()=>{this.updateMassPrice()}),6e4))},async updatePriceItem(t){-1==this.tempArr.findIndex((e=>e==`${t.classid}_${t.instanceid}`))&&(this.tempArr.push(`${t.classid}_${t.instanceid}`),t.UPDATE_PRICE&&t.MIN_PRICE&&await this.UPDATE_PICE_ITEM({min:t.MIN_PRICE,max:t.MAX_PRICE,itemId:t.item_id,class:t.classid,instance:t.instanceid,price:t.price}))}}}),L=C,K=(0,v.Z)(L,w,k,!1,null,"efef8d3c",null),U=K.exports,$={name:"NewItemView",components:{NewItem:U}},R=$,G=(0,v.Z)(R,M,P,!1,null,null,null),B=G.exports,D=function(){var t=this,e=t._self._c;return e("old-item")},Y=[],q=function(){var t=this,e=t._self._c;return e(c.Z,[e(r.Z,{on:{click:function(e){return t.getInventoryItem()}}},[t._v("Предметы на продажу")]),e("br"),e(r.Z,{on:{click:function(e){return t.addItemInSale()}}},[t._v("Добавить негев")]),e(O.Z,{attrs:{items:t.itemsListNow,loading:t.loadingTable,"items-per-page":15,dense:""},scopedSlots:t._u([{key:"header",fn:function(){return[e("tr",[e("th",[t._v("index")]),e("th",[t._v("Название")]),e("th",[t._v("Твоя цена")]),e("th",[t._v("Цена маркета")]),e("th",[t._v("Позиция")])])]},proxy:!0},{key:"item",fn:function({item:s,index:i}){return[e("tr",{style:{background:"#"+s.i_name_color}},[e("td",{staticClass:"text-center"},[t._v(t._s(i))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.i_name))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.ui_price))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.i_market_price))]),e("td",{staticClass:"text-center"},[t._v(t._s(s.position))])])]}}],null,!0)})],1)},H=[],V={name:"HelloWorld",data(){return{loadingTable:!1}},computed:{...(0,T.rn)(["itemsListNow"])},mounted(){},methods:{...(0,T.nv)(["GET_ITEMS_INVENTORY","ADD_ITEM_IN_SALE","CHECK_ITEMS_ON_BOT"]),summa(){console.log(1),this.GET_ITEMS_INVENTORY()},async getInventoryItem(){this.loadingTable=!0,this.GET_ITEMS_INVENTORY(),this.loadingTable=!1},addItemInSale(){this.GET_ITEMS_ON_SALE()}}},F=V,X=(0,v.Z)(F,q,H,!1,null,null,null),j=X.exports,W={name:"OldItemView",components:{NewItem:j}},J=W,z=(0,v.Z)(J,D,Y,!1,null,null,null),Q=z.exports;i.ZP.use(g.ZP);const tt=[{path:"/",name:"home",component:B},{path:"/olditem",name:"olditem",component:Q}],et=new g.ZP({mode:"history",base:"/MarketBot/",routes:tt});var st=et,it=s(8433);i.ZP.use(T.ZP);const nt="https://api.allorigins.win/raw?url=",at="https://market.csgo.com/api",rt="8b40w7zrq0Q9Z8iV3WS80j8FN8H9G62";var ot=new T.ZP.Store({state:{apiKey:"",statusTakeItem:1,inventoryList:[],itemsListNow:[],currentItemInfo:{},online:!1,isItemsOnBot:!1},getters:{},mutations:{MUTATE_API_KEY(t,e){t.apiKey=e},MUTATE_STATUS_TAKE_ITEM(t,e){t.statusTakeItem=e},MUTATE_INVENTORY(t,e){t.inventoryList=e},MUTATE_ONLINE(t,e){t.online=e},MUTATE_ITEMS_LIST_NOW(t,e){var s=e;for(let n=0;n<s.length;n++){var i=JSON.parse(localStorage.getItem(""+(s[n].classid+"_"+s[n].instanceid)));i&&(i.min&&(s[n].MIN_PRICE=Number(i.min)),i.max&&(s[n].MAX_PRICE=Number(i.max)),i.updatePrice&&(s[n].UPDATE_PRICE=i.updatePrice))}t.itemsListNow=s},MUTATE_ITEMS_INFO_BY_ID(t,e){var s=e,i=JSON.parse(localStorage.getItem(""+(e.classid+"_"+e.instanceid)));i&&(s.minPrice=i.min,s.maxPrice=i.max,s.updatePrice=i.updatePrice),t.currentItemInfo=s},MUTATE_CHECK_ITEMS_ON_BOT(t,e){t.isItemsOnBot=e}},actions:{PING_ONLINE({commit:t,state:e}){it.Z.get(nt+at+`/v2/ping?key=${e.apiKey}`,{headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{t("MUTATE_ONLINE",e.data.online)})).catch((t=>{console.log(t)}))},GET_ITEMS_INVENTORY({commit:t,state:e}){it.Z.get(nt+at+`/v2/my-inventory/?key=${e.apiKey}`,{headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{t("MUTATE_INVENTORY",e.data.items)})).catch((t=>{console.log(t)}))},GET_ITEMS_LIST_NOW({commit:t,state:e}){it.Z.get(nt+at+`/v2/items?key=${e.apiKey}`,{headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{t("MUTATE_ITEMS_LIST_NOW",e.data.items)})).catch((t=>{console.log(t)}))},GET_ITEMS_INFO_BY_ID({commit:t,state:e},s){it.Z.get(nt+at+`/ItemInfo/${s.class}_${s.instance}/ru/?key=${e.apiKey}`,{headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{t("MUTATE_ITEMS_INFO_BY_ID",e.data)})).catch((t=>{console.log(t)}))},UPDATE_PICE_ITEM({commit:t,state:e},s){it.Z.get(nt+at+`/SellOffers/${s.class}_${s.instance}/?key=${e.apiKey}`,{headers:{"x-requested-with":"XMLHttpRequest"}}).then((t=>{var i=0,n=t.data.best_offer,a=t.data.offers;return i=a[0].my_count>0?a[0].my_count!=a[0].count?n-1:n:n>100*s.min?n-1:100*s.max,i!=n&&it.Z.post(nt+at+`/MassSetPrice/${s.class}_${s.instance}/${Math.round(i)}/?key=${e.apiKey}`,{headers:{"x-requested-with":"XMLHttpRequest"}}).then((t=>t.data.success)).catch((t=>(console.log(t),!1))),!0})).catch((t=>(console.log(t),!1)))},GET_ITEMS_ON_SALE({commit:t}){},CHECK_ITEMS_ON_BOT({commit:t}){it.Z.get(nt+at+`/v2/trades/?key=${rt}`,{headers:{"x-requested-with":"XMLHttpRequest"}}).then((e=>{t("MUTATE_CHECK_ITEMS_ON_BOT",e.data.success)})).catch((t=>{console.log(t)}))},ADD_ITEM_IN_SALE({commit:t},e){console.log(e)}},modules:{}}),ct=s(8986);i.ZP.use(ct.Z);var lt=new ct.Z({}),ut=s(6123),dt=s.n(ut);i.ZP.config.productionTip=!1,i.ZP.use(dt()),new i.ZP({router:st,store:ot,vuetify:lt,render:t=>t(N)}).$mount("#app")},9515:function(t,e,s){t.exports=s.p+"media/message1.21c6a08c.mp3"}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var a=e[i]={exports:{}};return t[i](a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,i,n,a){if(!i){var r=1/0;for(u=0;u<t.length;u++){i=t[u][0],n=t[u][1],a=t[u][2];for(var o=!0,c=0;c<i.length;c++)(!1&a||r>=a)&&Object.keys(s.O).every((function(t){return s.O[t](i[c])}))?i.splice(c--,1):(o=!1,a<r&&(r=a));if(o){t.splice(u--,1);var l=n();void 0!==l&&(e=l)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[i,n,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){s.p="/MarketBot/"}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,a,r=i[0],o=i[1],c=i[2],l=0;if(r.some((function(e){return 0!==t[e]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(c)var u=c(s)}for(e&&e(i);l<r.length;l++)a=r[l],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(u)},i=self["webpackChunkbot_tm"]=self["webpackChunkbot_tm"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(1091)}));i=s.O(i)})();
//# sourceMappingURL=app.42241d92.js.map